


<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline';">

    <title>Criar Conta</title>
</head>
<body>
    <h1>Criar Conta</h1>
    <form id="criarContaForm">
        <label for="nome_usuario">Nome de Usuário:</label>
        <input type="text" id="nome_usuario" name="nome_usuario" required><br><br>

        <label for="email_cliente">Email:</label>
        <input type="email" id="email_cliente" name="email_cliente" required><br><br>

        <label for="senha_usuario">Senha:</label>
        <input type="password" id="senha_usuario" name="senha_usuario" required><br><br>

        <label for="valor_usuario">Valor:</label>
        <input type="number" id="valor_usuario" name="valor_usuario" required><br><br>

        <label for="nome_sobrenome">Nome e Sobrenome:</label>
        <input type="text" id="nome_sobrenome" name="nome_sobrenome" required><br><br>

        <label for="cpf_cliente">CPF:</label>
        <input type="text" id="cpf_cliente" name="cpf_cliente" required><br><br>

        <label for="bairro_cliente">Bairro:</label>
        <input type="text" id="bairro_cliente" name="bairro_cliente" required><br><br>

        <label for="rua_cliente">Rua:</label>
        <input type="text" id="rua_cliente" name="rua_cliente" required><br><br>

        <label for="numero_cliente">Número:</label>
        <input type="text" id="numero_cliente" name="numero_cliente" required><br><br>

        <label for="cidade_cliente">Cidade:</label>
        <input type="text" id="cidade_cliente" name="cidade_cliente" required><br><br>

        <label for="estado_cliente">Estado:</label>
        <input type="text" id="estado_cliente" name="estado_cliente" required><br><br>

        <label for="cep_cliente">CEP:</label>
        <input type="text" id="cep_cliente" name="cep_cliente" required><br><br>

        <button type="submit">Criar Conta</button>
    </form>

    <script>
        document.getElementById('criarContaForm').addEventListener('submit', async function(event) {
            event.preventDefault();
            
            const formData = new FormData(this);
            const formObject = {};
            formData.forEach((value, key) => {
                formObject[key] = value;
            });

            const response = await fetch('/criarconta/submit', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(formObject)
            });

            const result = await response.text();
            alert(result);
            window.location.href = '/'; // Redireciona para a página inicial após criar a conta
        });
    </script>
</body>
</html>
